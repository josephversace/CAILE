<!DOCTYPE html>
<html lang="en" class="bg-cover-2" data-bs-theme="dark">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>IIM Platform - Your Intelligent Investigation Sidekick</title>
    <!-- Bootstrap 5 (HUD is built on Bootstrap) -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
    
    <!-- HUD CSS Framework -->
    <link href="_content/IIM.Components/css/app.min.css" rel="stylesheet" />

    <!-- Font Awesome for icons -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet" />

    <link href="_content/IIM.Components/css/iim-components.css" rel="stylesheet" />
    <link href="_content/IIM.Components/css/iim-theme-styles.css" rel="stylesheet" />

    <!-- Additional IIM specific styles -->

    <link href="_content/IIM.Components/css/iim-theme-overrides.css" rel="stylesheet" />

</head>
<body>

   

    <!-- Component container -->
    <div id="app">Loading IIM Platform...</div>

    <!-- jQuery (required for HUD) -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>

    <!-- Bootstrap Bundle -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

    <script src="https://cdn.jsdelivr.net/npm/js-cookie@3.0.5/dist/js.cookie.min.js"></script>



    <!-- IIM Components JavaScript -->
    <script src="_content/IIM.Components/js/iim-components.js"></script>

    <script src="_content/IIM.Components/js/iim-theme-integration.js"></script>

    <!-- Blazor -->
    <script src="_framework/blazor.webview.js" autostart="false"></script>

    <script>
        // Initialize Blazor and HUD after DOM is ready
        window.addEventListener('DOMContentLoaded', () => {
            // Start Blazor
            Blazor.start().then(() => {
                console.log('Blazor initialized');

                // Initialize HUD components
                if (window.App && window.App.init) {
                    window.App.init();
                }

                // Initialize IIM specific components
                if (window.IIM && window.IIM.init) {
                    window.IIM.init();
                }
            });
        });


        window.downloadFile = function (filename, base64) {
            const link = document.createElement('a');
            link.href = 'data:application/octet-stream;base64,' + base64;
            link.download = filename;
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
        };


    </script>
</body>
</html>